!function(){"use strict";var t={d:function(e,n){for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}};!function(){if(t.d({},{K:function(){return a}}),a()>=800){const d=document.querySelector(".slider__slides-list"),u=parseInt(getComputedStyle(document.querySelector(".hero__slider")).gridTemplateColumns.split(" ")[0],10),p=parseInt(getComputedStyle(d).gap),m=d.children,g=m[0].offsetWidth,h=2*g+p-u,y=g+p,f="0.3s",w="translate(-12.5%, calc(12.5% - 16px)) scale(1.25)",_=document.querySelector(".slider-button_left"),b=document.querySelector(".slider-button_right");let S=!1;function A(t,e){t.ontransitionend=e=>{t.ontransitionend=null,t.style.transition="none",m[0].removeAttribute("style"),t.append(m[0]),t.style.transform=`translateX(${-h}px)`,S=!1},t.style.transition=f,t.style.transform=`translateX(${-e-h}px)`,m[1].style.transition=f,m[1].style.opacity=0,m[1].style.transform="translate(0)",m[2].style.transition=f,m[2].style.transform=w,m[2].style.transitionTimingFunction="cubic-bezier(.72,.07,.95,.7)"}function $(t,e){t.ontransitionend=e=>{t.ontransitionend=null,t.style.transition="none",m[1].removeAttribute("style"),t.lastElementChild.style.opacity=0,t.prepend(t.lastElementChild),t.style.transform=`translateX(${-h}px)`,S=!1},t.style.transition=f,t.style.transform=`translateX(${e-h}px)`,m[0].style.transition=f,m[0].style.opacity=1,m[0].style.transform=w,m[0].style.transitionTimingFunction="ease-in",m[1].style.transition=f,m[1].style.transform="translate(0) scale(1)",m[1].style.transitionTimingFunction="cubic-bezier(0,.75,.02,1)"}console.log("activSlideWidth "+u),console.log("slideWidth "+g),console.log("initialOffset "+h),console.log("offset "+y),d.style.transform=`translateX(${-h}px)`,m[0].style.opacity=0,m[1].style.transform=w,_.onclick=t=>{S||(S=!0,$(d,y))},b.onclick=t=>{S||(S=!0,A(d,y))}}if(a()>=1200){const L=document.querySelector(".feedback__list"),k=L.children,x=k[0].offsetWidth,q=L.offsetWidth,v=q/100*parseFloat(getComputedStyle(L).gap),E=Math.floor(q/(x+v)),C=Math.ceil(k.length/E),M=q-2*v,P="1s",R=document.querySelector(".feedback >.slider-button_left"),T=document.querySelector(".feedback > .slider-button_right");let X=!1;function Y(t,e){t.ontransitionend=n=>{t.ontransitionend=null,t.style.transition="none";for(let e=0;e<E;e++)t.append(k[0]);t.style.transform=`translateX(${-e}px)`,X=!1},t.style.transition=P,t.style.transform=`translateX(${2*-e-v}px)`}function B(t,e){t.ontransitionend=n=>{t.ontransitionend=null,t.style.transition="none";for(let e=0;e<E;e++)t.prepend(t.lastElementChild);t.style.transform=`translateX(${-e}px)`,X=!1},t.style.transition=P,t.style.transform=`translateX(${v}px)`}console.log("gapValue "+v),console.log("slideWindowWidth "+q),console.log(k),console.log("slides.length "+k.length),console.log("slideListsAmount "+C),console.log("amountSlidesOnList "+E),L.style.transform=`translateX(${-M}px)`,T.onclick=t=>{console.log("right"),X||(X=!0,Y(L,M))},R.onclick=t=>{console.log("left"),X||(X=!0,B(L,M))}}if(a()<=1250){const F=`${document.querySelector(".page-header").offsetHeight}px`;document.querySelector(":root").style.setProperty("--header-hight",`${F}`);const W=document.querySelector(".page-header__burger-button");W.addEventListener("click",(t=>{console.log("клик на кнопку в обработчике кнопки");const e=a()<=680?document.querySelector(".page-header__menu"):document.querySelector(".page-header__nav");document.addEventListener("click",(t=>{console.log("событие click в обработчике документа"),t.target.closest(".page-header__burger-button")||e.classList.contains(`${e.classList[0]}_open`)?(W.classList.toggle("page-header__burger-button_open"),document.documentElement.classList.toggle("stop-scroll"),e.classList.toggle(`${e.classList[0]}_open`),t.target.closest(".page-header__nav-list")&&(console.log("клик на ссылку в меню"),t.preventDefault(),document.querySelector(t.target.getAttribute("href")).scrollIntoView({behavior:"smooth"}))):console.log("клик не на кнопку при закрытом меню")}))}),{once:!0})}let e,n,o;function s(t,s,c){let d={};t.forEach((u=>{if(!u.classList.contains("scrolled-in")){if(u.getBoundingClientRect().top<s){const t=u.classList[0];if(t in d?(setTimeout((()=>{u.classList.add("scrolled-in")}),100*d[t]),d[t]+=1):(d[t]=1,u.classList.add("scrolled-in")),u.classList.contains("promo__statistics")&&u.querySelectorAll(".promo__statistics-description").forEach((t=>{!function(t,e){const n=parseInt(t.innerHTML.replace(" ",""),10);let o;const s=e=>{void 0===o&&(o=e);const r=parseFloat(Math.min((e-o)/2500,1).toFixed(2));t.innerHTML=Math.floor(r*n).toLocaleString("ru-RU",{useGrouping:!0})+"+",r<1&&window.requestAnimationFrame(s)};window.requestAnimationFrame(s)}(t)})),u.classList.contains("animate-childs")){const t=u.children;for(let s of t){if(s.classList.contains("line-start")){const t=[window.scrollY,e,n,o],s=a()<=1300?i:l,c=r((()=>{s(...t,c)}),50);window.addEventListener("scroll",c)}s.classList.add("scrolled-in")}}}window.scrollY>document.documentElement.scrollHeight-1.2*document.documentElement.clientHeight&&(t[t.length-1].classList.add("scrolled-in"),window.removeEventListener("scroll",c))}}))}function r(t,e){let n,o,s=!1;return function r(){if(s)return n=arguments,void(o=this);t.apply(this,arguments),s=!0,setTimeout((function(){s=!1,n&&(r.apply(o,n),n=o=null)}),e)}}function l(t,e,n,o,s){const r=document.querySelector(".steps__main-track"),l=n-e;let i=o*(1-(window.scrollY-t)/l);i<0&&(i=0,window.removeEventListener("scroll",s)),r.setAttribute("stroke-dashoffset",i),function(t,e,n,o){const s=n-o,r=e.getPointAtLength(0),l=e.getPointAtLength(s),i=t.getAttribute("points").match(/\S+,(\S+)\s.\S+,(\S+)/),c=e.getPointAtLength(s+(i[2]-i[1])),a=(Math.atan2(c.y-l.y,c.x-l.x)-Math.atan2(0,l.x+1))*(180/Math.PI)-90;t.setAttribute("transform",`translate(${l.x-r.x}, ${l.y-r.y}) rotate(${a} ${r.x} ${r.y})`)}(document.querySelector(".steps__track-arrow"),r,o,i)}function i(t,e,n,o,s){const r=document.querySelector(".steps__track-mask"),l=n-e;let i=-o*((window.scrollY-t)/l);i<-o&&(i=-o,window.removeEventListener("scroll",s)),r.setAttribute("stroke-dashoffset",i),function(t,e,n,o){const s=-n,r=e.getPointAtLength(0),l=e.getPointAtLength(s);t.setAttribute("transform",`translate(${l.x-r.x}, ${l.y-r.y})`)}(document.querySelector(".steps__track-arrow"),r,i,document.querySelector(".steps__main-track"))}function c(t,e,n){const o=document.createElementNS("http://www.w3.org/2000/svg","polygon");return o.setAttribute("class","steps__track-arrow animate show"),o.setAttribute("points",`${t-n/2},${e} ${t},${e+Math.sqrt(3)/2*n} ${t+n/2},${e}`),o}function a(){return document.querySelector(".page-main").offsetWidth}window.onload=()=>{const t=document.querySelector(".preloader");t.classList.add("preloader_hide"),t.addEventListener("transitionend",(()=>{document.documentElement.classList.remove("stop-scroll"),t.remove(),a()<=1300?function(){const t=document.querySelector(".steps"),s=parseInt(window.getComputedStyle(t.querySelector(".steps__list")).getPropertyValue("gap")),r=t.getBoundingClientRect().x,l=t.getBoundingClientRect().y+window.scrollY;console.log(t.getBoundingClientRect(),window.scrollY);let i=[];const a=[],d=document.querySelector(".marker").getBoundingClientRect();i.push(d);const u=d.height/2-5,p=document.querySelector(".steps__item:last-child >.marker").getBoundingClientRect();i.push(p),i.forEach((t=>{a.push({x:t.x-r+t.width/2,y:t.y-l+t.height/2+window.scrollY})})),e=a[0].y+l,n=a[a.length-1].y+l,console.log(r,l,i,a);const m="http://www.w3.org/2000/svg",g=document.createElementNS(m,"svg");g.setAttribute("class","steps__track");const h=document.createElementNS(m,"path");let y=`M ${a[0].x} ${a[0].y} L ${a[1].x} ${a[1].y}`;const f=document.querySelectorAll(".steps__item");let w=[0];const _=s-u;f.forEach(((t,e)=>{const n=parseInt(window.getComputedStyle(t).getPropertyValue("height"));0===e?w.push(n):w.push(n+u),w.push(_)})),h.setAttribute("class","steps__main-track"),h.setAttribute("d",y),h.setAttribute("fill","none"),o=Math.round(h.getTotalLength()),h.setAttribute("stroke-dasharray",w.join(" ")),g.appendChild(h);const b=document.createElementNS(m,"path");b.setAttribute("class","steps__track-mask"),b.setAttribute("d",y),b.setAttribute("fill","none"),b.setAttribute("stroke-dasharray",o),b.setAttribute("stroke-dashoffset",0),g.appendChild(b),g.appendChild(c(a[0].x,a[0].y,15));const S=document.createElementNS(m,"path");S.setAttribute("class","steps__triangle-mask"),S.setAttribute("d",y),S.setAttribute("fill","none"),S.setAttribute("stroke-width","20px"),S.setAttribute("stroke-dasharray",w.slice(1).join(" ")),S.setAttribute("stroke-dashoffset",0),g.appendChild(S),t.appendChild(g)}():function(){const t=document.querySelector(".steps"),s=t.getBoundingClientRect().x,r=t.getBoundingClientRect().y+window.scrollY,l=document.querySelectorAll(".marker"),i=[];l.forEach((t=>{const e=t.getBoundingClientRect();let n={};n.x=e.x-s+e.width/2,n.y=e.y-r+e.height/2+window.scrollY,i.push(n)})),e=i[0].y+r,n=i[i.length-1].y+r;const a="http://www.w3.org/2000/svg",d=document.createElementNS(a,"svg");d.setAttribute("class","steps__track");const u=document.createElementNS(a,"path");u.setAttribute("class","steps__main-track");let p=`M ${i[0].x} ${i[0].y}`;for(let t=1;t<i.length;t++)p+=`C${i[t-1].x} ${i[t-1].y+533} ${i[t].x} ${i[t].y-533} ${i[t].x} ${i[t].y}`;u.setAttribute("d",p),u.setAttribute("fill","none"),o=Math.round(u.getTotalLength()),u.setAttribute("stroke-dasharray",o),u.setAttribute("stroke-dashoffset",o),d.appendChild(u),d.appendChild(c(i[0].x,i[0].y,15)),t.appendChild(d)}();const l=document.querySelectorAll(".animate"),i=.8*document.documentElement.clientHeight;s(l,i);let d=0;const u=r((()=>{const t=window.scrollY;t>d&&s(l,i,u),d=t}),200);window.addEventListener("scroll",u)}))}}()}();