(()=>{"use strict";var t={d:(e,n)=>{for(var s in n)t.o(n,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:n[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};(()=>{if(t.d({},{K:()=>u}),u()>=800){const m=document.querySelector(".slider__slides-list"),g=parseInt(getComputedStyle(document.querySelector(".hero__slider")).gridTemplateColumns.split(" ")[0],10),p=parseInt(getComputedStyle(m).gap),h=m.children,y=h[0].offsetWidth,f=2*y+p-g,w=y+p,_="0.3s",b="translate(-12.5%, calc(12.5% - 16px)) scale(1.25)",S=document.querySelector(".slider-button_left"),A=document.querySelector(".slider-button_right");let L=!1;function $(t,e){t.ontransitionend=e=>{t.ontransitionend=null,t.style.transition="none",h[0].removeAttribute("style"),t.append(h[0]),t.style.transform=`translateX(${-f}px)`,L=!1},t.style.transition=_,t.style.transform=`translateX(${-e-f}px)`,h[1].style.transition=_,h[1].style.opacity=0,h[1].style.transform="translate(0)",h[2].style.transition=_,h[2].style.transform=b,h[2].style.transitionTimingFunction="cubic-bezier(.72,.07,.95,.7)"}function k(t,e){t.ontransitionend=e=>{t.ontransitionend=null,t.style.transition="none",h[1].removeAttribute("style"),t.lastElementChild.style.opacity=0,t.prepend(t.lastElementChild),t.style.transform=`translateX(${-f}px)`,L=!1},t.style.transition=_,t.style.transform=`translateX(${e-f}px)`,h[0].style.transition=_,h[0].style.opacity=1,h[0].style.transform=b,h[0].style.transitionTimingFunction="ease-in",h[1].style.transition=_,h[1].style.transform="translate(0) scale(1)",h[1].style.transitionTimingFunction="cubic-bezier(0,.75,.02,1)"}console.log("activSlideWidth "+g),console.log("slideWidth "+y),console.log("initialOffset "+f),console.log("offset "+w),m.style.transform=`translateX(${-f}px)`,h[0].style.opacity=0,h[1].style.transform=b,S.onclick=t=>{L||(L=!0,k(m,w))},A.onclick=t=>{L||(L=!0,$(m,w))}}if(u()>1200&&new MutationObserver((t=>{console.log("Вывод обсервера мутаций"),console.log(t);const e=document.querySelector(".feedback__list"),n=e.children,s=n[0].offsetWidth,o=e.offsetWidth,r=o/100*parseFloat(getComputedStyle(e).gap),l=Math.floor(o/(s+r)),i=Math.ceil(n.length/l),c=4*s+3*r,a=document.querySelector(".feedback >.slider-button_left"),d=document.querySelector(".feedback > .slider-button_right");let u=!1;console.log("gapValue "+r),console.log("slideWidth "+s),console.log("slidesListWidth "+o),console.log(n),console.log("slides.length "+n.length),console.log("slideListsAmount "+i),console.log("amountSlidesOnList "+l),e.style.transform=`translateX(${-c}px)`,d.onclick=t=>{console.log("right"),u||(u=!0,function(t,e){t.ontransitionend=s=>{t.ontransitionend=null,t.style.transition="none";for(let e=0;e<l;e++)t.append(n[0]);t.style.transform=`translateX(${-e}px)`,u=!1},t.style.transition="1s",t.style.transform=`translateX(${2*-e-r}px)`}(e,c))},a.onclick=t=>{console.log("left"),u||(u=!0,function(t,e){t.ontransitionend=n=>{t.ontransitionend=null,t.style.transition="none";for(let e=0;e<l;e++)t.prepend(t.lastElementChild);t.style.transform=`translateX(${-e}px)`,u=!1},t.style.transition="1s",t.style.transform=`translateX(${r}px)`}(e,c))}})).observe(document.documentElement,{attributeFilter:["class"]}),u()<=1250){const x=`${document.querySelector(".page-header").offsetHeight}px`;document.querySelector(":root").style.setProperty("--header-hight",`${x}`);const q=document.querySelector(".page-header__burger-button");q.addEventListener("click",(t=>{console.log("клик на кнопку в обработчике кнопки");const e=u()<=680?document.querySelector(".page-header__menu"):document.querySelector(".page-header__nav");document.addEventListener("click",(t=>{console.log("событие click в обработчике документа"),t.target.closest(".page-header__burger-button")||e.classList.contains(`${e.classList[0]}_open`)?(q.classList.toggle("page-header__burger-button_open"),document.documentElement.classList.toggle("stop-scroll"),e.classList.toggle(`${e.classList[0]}_open`),t.target.closest(".page-header__nav-list")&&(console.log("клик на ссылку в меню"),t.preventDefault(),document.querySelector(t.target.getAttribute("href")).scrollIntoView({behavior:"smooth"}))):console.log("клик не на кнопку при закрытом меню")}))}),{once:!0})}let e,n,s;function o(t,o,c){let a={};t.forEach((d=>{if(!d.classList.contains("scrolled-in")){if(d.getBoundingClientRect().top<o){const t=d.classList[0];if(t in a?(setTimeout((()=>{d.classList.add("scrolled-in")}),100*a[t]),a[t]+=1):(a[t]=1,d.classList.add("scrolled-in")),d.classList.contains("promo__statistics")&&d.querySelectorAll(".promo__statistics-description").forEach((t=>{!function(t,e){const n=parseInt(t.innerHTML.replace(" ",""),10);let s;const o=e=>{void 0===s&&(s=e);const r=parseFloat(Math.min((e-s)/2500,1).toFixed(2));t.innerHTML=Math.floor(r*n).toLocaleString("ru-RU",{useGrouping:!0})+"+",r<1&&window.requestAnimationFrame(o)};window.requestAnimationFrame(o)}(t)})),d.classList.contains("animate-childs")){const t=d.children;for(let o of t){if(o.classList.contains("line-start")){const t=[window.scrollY,e,n,s],o=u()<=1300?i:l,c=r((()=>{o(...t,c)}),50);window.addEventListener("scroll",c)}o.classList.add("scrolled-in")}}}window.scrollY>document.documentElement.scrollHeight-1.2*document.documentElement.clientHeight&&(t[t.length-1].classList.add("scrolled-in"),window.removeEventListener("scroll",c))}}))}function r(t,e){let n,s,o=!1;return function r(){if(o)return n=arguments,void(s=this);t.apply(this,arguments),o=!0,setTimeout((function(){o=!1,n&&(r.apply(s,n),n=s=null)}),e)}}function l(t,e,n,s,o){const r=document.querySelector(".steps__main-track"),l=n-e;let i=s*(1-(window.scrollY-t)/l);i<0&&(i=0,window.removeEventListener("scroll",o)),r.setAttribute("stroke-dashoffset",i),function(t,e,n,s){const o=n-s,r=e.getPointAtLength(0),l=e.getPointAtLength(o),i=t.getAttribute("points").match(/\S+,(\S+)\s.\S+,(\S+)/),c=e.getPointAtLength(o+(i[2]-i[1])),a=(Math.atan2(c.y-l.y,c.x-l.x)-Math.atan2(0,l.x+1))*(180/Math.PI)-90;t.setAttribute("transform",`translate(${l.x-r.x}, ${l.y-r.y}) rotate(${a} ${r.x} ${r.y})`)}(document.querySelector(".steps__track-arrow"),r,s,i)}function i(t,e,n,s,o){const r=document.querySelector(".steps__track-mask"),l=n-e;let i=-s*((window.scrollY-t)/l);i<-s&&(i=-s,window.removeEventListener("scroll",o)),r.setAttribute("stroke-dashoffset",i),function(t,e,n,s){const o=-n,r=e.getPointAtLength(0),l=e.getPointAtLength(o);t.setAttribute("transform",`translate(${l.x-r.x}, ${l.y-r.y})`)}(document.querySelector(".steps__track-arrow"),r,i,document.querySelector(".steps__main-track"))}function c(t,e,n){const s=document.createElementNS("http://www.w3.org/2000/svg","polygon");return s.setAttribute("class","steps__track-arrow animate show"),s.setAttribute("points",`${t-n/2},${e} ${t},${e+Math.sqrt(3)/2*n} ${t+n/2},${e}`),s}window.onload=()=>{const t=document.querySelector(".preloader");t.classList.add("preloader_hide"),t.addEventListener("transitionend",(()=>{document.documentElement.classList.remove("stop-scroll"),t.remove(),u()<=1300?function(){const t=document.querySelector(".steps"),o=parseInt(window.getComputedStyle(t.querySelector(".steps__list")).getPropertyValue("gap")),r=t.getBoundingClientRect().x,l=t.getBoundingClientRect().y+window.scrollY;console.log(t.getBoundingClientRect(),window.scrollY);let i=[];const a=[],d=document.querySelector(".marker").getBoundingClientRect();i.push(d);const u=d.height/2-5,m=document.querySelector(".steps__item:last-child >.marker").getBoundingClientRect();i.push(m),i.forEach((t=>{a.push({x:t.x-r+t.width/2,y:t.y-l+t.height/2+window.scrollY})})),e=a[0].y+l,n=a[a.length-1].y+l,console.log(r,l,i,a);const g="http://www.w3.org/2000/svg",p=document.createElementNS(g,"svg");p.setAttribute("class","steps__track");const h=document.createElementNS(g,"path");let y=`M ${a[0].x} ${a[0].y} L ${a[1].x} ${a[1].y}`;const f=document.querySelectorAll(".steps__item");let w=[0];const _=o-u;f.forEach(((t,e)=>{const n=parseInt(window.getComputedStyle(t).getPropertyValue("height"));0===e?w.push(n):w.push(n+u),w.push(_)})),h.setAttribute("class","steps__main-track"),h.setAttribute("d",y),h.setAttribute("fill","none"),s=Math.round(h.getTotalLength()),h.setAttribute("stroke-dasharray",w.join(" ")),p.appendChild(h);const b=document.createElementNS(g,"path");b.setAttribute("class","steps__track-mask"),b.setAttribute("d",y),b.setAttribute("fill","none"),b.setAttribute("stroke-dasharray",s),b.setAttribute("stroke-dashoffset",0),p.appendChild(b),p.appendChild(c(a[0].x,a[0].y,15));const S=document.createElementNS(g,"path");S.setAttribute("class","steps__triangle-mask"),S.setAttribute("d",y),S.setAttribute("fill","none"),S.setAttribute("stroke-width","20px"),S.setAttribute("stroke-dasharray",w.slice(1).join(" ")),S.setAttribute("stroke-dashoffset",0),p.appendChild(S),t.appendChild(p)}():function(){const t=document.querySelector(".steps"),o=t.getBoundingClientRect().x,r=t.getBoundingClientRect().y+window.scrollY,l=document.querySelectorAll(".marker"),i=[];l.forEach((t=>{const e=t.getBoundingClientRect();let n={};n.x=e.x-o+e.width/2,n.y=e.y-r+e.height/2+window.scrollY,i.push(n)})),e=i[0].y+r,n=i[i.length-1].y+r;const a="http://www.w3.org/2000/svg",d=document.createElementNS(a,"svg");d.setAttribute("class","steps__track");const u=document.createElementNS(a,"path");u.setAttribute("class","steps__main-track");let m=`M ${i[0].x} ${i[0].y}`;for(let t=1;t<i.length;t++)m+=`C${i[t-1].x} ${i[t-1].y+533} ${i[t].x} ${i[t].y-533} ${i[t].x} ${i[t].y}`;u.setAttribute("d",m),u.setAttribute("fill","none"),s=Math.round(u.getTotalLength()),u.setAttribute("stroke-dasharray",s),u.setAttribute("stroke-dashoffset",s),d.appendChild(u),d.appendChild(c(i[0].x,i[0].y,15)),t.appendChild(d)}();const l=document.querySelectorAll(".animate"),i=.8*document.documentElement.clientHeight;o(l,i);let a=0;const d=r((()=>{const t=window.scrollY;t>a&&o(l,i,d),a=t}),200);window.addEventListener("scroll",d)}))};const a=document.querySelectorAll("picture");console.log(a);const d=new IntersectionObserver(((t,e)=>{t.forEach((t=>{t.isIntersecting&&(function(t){const e=t.querySelector("img"),n=t.querySelectorAll("source");e.onload=()=>{t.dataset.loaded=!0},e.onerror=()=>{t.dataset.loaded=!1},n.forEach((t=>{t.srcset=t.dataset.srcset,t.sizes=t.dataset.sizes})),e.srcset=e.dataset.srcset,e.sizes=e.dataset.sizes;const s=e.dataset.srcset.split(" ");e.src=s[s.length-2]}(t.target),e.unobserve(t.target))}))}));function u(){return document.querySelector(".page-main").offsetWidth}a.forEach((t=>{d.observe(t)}))})()})();