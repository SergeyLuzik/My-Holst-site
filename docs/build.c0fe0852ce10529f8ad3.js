!function(){"use strict";const e=document.querySelector(".page-main").offsetWidth;if(e>800&&(()=>{const e=document.querySelector(".slider__slides-list"),t=parseInt(getComputedStyle(document.querySelector(".hero__slider")).gridTemplateColumns.split(" ")[0],10),n=parseInt(getComputedStyle(e).gap),o=e.children,s=o[0].offsetWidth,l=2*s+n-t,r=s+n,a="0.3s",i="translate(-12.5%, calc(12.5% - 16px)) scale(1.25)",c=document.querySelector(".slider-button_left"),d=document.querySelector(".slider-button_right");let u=!1;console.log("activSlideWidth "+t),console.log("slideWidth "+s),console.log("initialOffset "+l),console.log("offset "+r),e.style.transform=`translateX(${-l}px)`,o[0].style.opacity=0,o[1].style.transform=i,c.onclick=t=>{u||(u=!0,function(e,t){e.ontransitionend=t=>{e.ontransitionend=null,e.style.transition="none",o[1].removeAttribute("style"),e.lastElementChild.style.opacity=0,e.prepend(e.lastElementChild),e.style.transform=`translateX(${-l}px)`,u=!1},e.style.transition=a,e.style.transform=`translateX(${t-l}px)`,o[0].style.transition=a,o[0].style.opacity=1,o[0].style.transform=i,o[0].style.transitionTimingFunction="ease-in",o[1].style.transition=a,o[1].style.transform="translate(0) scale(1)",o[1].style.transitionTimingFunction="cubic-bezier(0,.75,.02,1)"}(e,r))},d.onclick=t=>{u||(u=!0,function(e,t){e.ontransitionend=t=>{e.ontransitionend=null,e.style.transition="none",o[0].removeAttribute("style"),e.append(o[0]),e.style.transform=`translateX(${-l}px)`,u=!1},e.style.transition=a,e.style.transform=`translateX(${-t-l}px)`,o[1].style.transition=a,o[1].style.opacity=0,o[1].style.transform="translate(0)",o[2].style.transition=a,o[2].style.transform=i,o[2].style.transitionTimingFunction="cubic-bezier(.72,.07,.95,.7)"}(e,r))}})(),e>1200&&(()=>{const e=document.querySelector(".feedback__list"),t=e.children,n=t[0].offsetWidth,o=e.offsetWidth,s=o/100*parseFloat(getComputedStyle(e).gap),l=Math.floor(o/(n+s)),r=Math.ceil(t.length/l),a=o-2*s,i=document.querySelector(".feedback >.slider-button_left"),c=document.querySelector(".feedback > .slider-button_right");let d=!1;console.log("gapValue "+s),console.log("slideWindowWidth "+o),console.log(t),console.log("slides.length "+t.length),console.log("slideListsAmount "+r),console.log("amountSlidesOnList "+l),e.style.transform=`translateX(${-a}px)`,c.onclick=n=>{console.log("right"),d||(d=!0,function(e,n){e.ontransitionend=o=>{e.ontransitionend=null,e.style.transition="none";for(let n=0;n<l;n++)e.append(t[0]);e.style.transform=`translateX(${-n}px)`,d=!1},e.style.transition="1s",e.style.transform=`translateX(${2*-n-s}px)`}(e,a))},i.onclick=t=>{console.log("left"),d||(d=!0,function(e,t){e.ontransitionend=n=>{e.ontransitionend=null,e.style.transition="none";for(let t=0;t<l;t++)e.prepend(e.lastElementChild);e.style.transform=`translateX(${-t}px)`,d=!1},e.style.transition="1s",e.style.transform=`translateX(${s}px)`}(e,a))}})(),e<=1250){const t=document.querySelector(".page-header__burger-button"),n=document.querySelector(".page-header").offsetHeight;console.log("headerHeigth "+n),t.onclick=()=>{if(t.classList.toggle("page-header__burger-button_open"),e<=680){const e=document.querySelector(".page-header__menu");e.style.top=`${n}px`,e.classList.toggle("page-header__menu_open"),e.querySelectorAll("a").forEach((n=>{n.onclick=()=>{e.classList.remove("page-header__menu_open"),t.classList.remove("page-header__burger-button_open")}}))}else{const e=document.querySelector(".page-header__nav");e.style.top=`${n}px`,e.classList.toggle("page-header__nav_open"),e.querySelectorAll("a").forEach((n=>{n.onclick=()=>{e.classList.remove("page-header__nav_open"),t.classList.remove("page-header__burger-button_open")}}))}}}}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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c291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktaG9sc3Qtc2l0ZS8uL3NyYy9zY3JpcHRzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcIi4uL3N0eWxlcy9pbmRleC5jc3NcIjtcbmNvbnN0IG1haW5XaWR0aCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGFnZS1tYWluXCIpLm9mZnNldFdpZHRoO1xuXG4vLyBIRVJPICBTTElERVJcbmlmIChtYWluV2lkdGggPiA4MDApIHtcbiAgKCgpID0+IHtcbiAgICBjb25zdCBzbGlkZXNXcmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zbGlkZXJfX3NsaWRlcy1saXN0XCIpLFxuICAgICAgYWN0aXZTbGlkZVdpZHRoID0gcGFyc2VJbnQoXG4gICAgICAgIGdldENvbXB1dGVkU3R5bGUoXG4gICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZXJvX19zbGlkZXJcIilcbiAgICAgICAgKS5ncmlkVGVtcGxhdGVDb2x1bW5zLnNwbGl0KFwiIFwiKVswXSxcbiAgICAgICAgMTBcbiAgICAgICksXG4gICAgICBnYXBWYWx1ZSA9IHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUoc2xpZGVzV3JhcHBlcikuZ2FwKSxcbiAgICAgIHNsaWRlcyA9IHNsaWRlc1dyYXBwZXIuY2hpbGRyZW4sXG4gICAgICBzbGlkZVdpZHRoID0gc2xpZGVzWzBdLm9mZnNldFdpZHRoLFxuICAgICAgaW5pdGlhbE9mZnNldCA9IHNsaWRlV2lkdGggKiAyICsgZ2FwVmFsdWUgLSBhY3RpdlNsaWRlV2lkdGgsXG4gICAgICBvZmZzZXQgPSBzbGlkZVdpZHRoICsgZ2FwVmFsdWUsXG4gICAgICB0cmFuc2l0aW9uVGltZSA9IFwiMC4zc1wiLFxuICAgICAgc2xpZGVTY2FsZSA9XG4gICAgICAgIFwidHJhbnNsYXRlKC0xMi41JSwgY2FsYygxMi41JSAtIDE2cHgpKSBzY2FsZSgxLjI1KVwiIC8qXCJ0cmFuc2xhdGUoLTEwJSwgNi41JSkgc2NhbGUoMS4yKVwiKi8sXG4gICAgICBsZWZ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zbGlkZXItYnV0dG9uX2xlZnRcIiksXG4gICAgICByaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2xpZGVyLWJ1dHRvbl9yaWdodFwiKTtcblxuICAgIGxldCBpbkFjdGlvbiA9IGZhbHNlO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSBzbGlkZXIgc3RhcnQgcG9zaXRpb25cblxuICAgIGNvbnNvbGUubG9nKFwiYWN0aXZTbGlkZVdpZHRoIFwiICsgYWN0aXZTbGlkZVdpZHRoKTtcbiAgICBjb25zb2xlLmxvZyhcInNsaWRlV2lkdGggXCIgKyBzbGlkZVdpZHRoKTtcbiAgICBjb25zb2xlLmxvZyhcImluaXRpYWxPZmZzZXQgXCIgKyBpbml0aWFsT2Zmc2V0KTtcbiAgICBjb25zb2xlLmxvZyhcIm9mZnNldCBcIiArIG9mZnNldCk7XG5cbiAgICBzbGlkZXNXcmFwcGVyLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKCR7LWluaXRpYWxPZmZzZXR9cHgpYDtcbiAgICBzbGlkZXNbMF0uc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgLy9zbGlkZXNbMF0uc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGUoMCkgc2NhbGUoMC4zKVwiO1xuICAgIHNsaWRlc1sxXS5zdHlsZS50cmFuc2Zvcm0gPSBzbGlkZVNjYWxlO1xuICAgIC8vc2xpZGVzWzBdLnN0eWxlLnRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbiA9IFwiZWFzZS1pblwiO1xuXG4gICAgZnVuY3Rpb24gbW92TGVmdChzbGlkZXNXcmFwcGVyLCBvZmZzZXQpIHtcbiAgICAgIHNsaWRlc1dyYXBwZXIub250cmFuc2l0aW9uZW5kID0gKF8pID0+IHtcbiAgICAgICAgc2xpZGVzV3JhcHBlci5vbnRyYW5zaXRpb25lbmQgPSBudWxsO1xuICAgICAgICBzbGlkZXNXcmFwcGVyLnN0eWxlLnRyYW5zaXRpb24gPSBcIm5vbmVcIjtcbiAgICAgICAgc2xpZGVzWzBdLnJlbW92ZUF0dHJpYnV0ZShcInN0eWxlXCIpO1xuXG4gICAgICAgIHNsaWRlc1dyYXBwZXIuYXBwZW5kKHNsaWRlc1swXSk7XG4gICAgICAgIHNsaWRlc1dyYXBwZXIuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoJHstaW5pdGlhbE9mZnNldH1weClgO1xuXG4gICAgICAgIGluQWN0aW9uID0gZmFsc2U7XG4gICAgICB9O1xuICAgICAgc2xpZGVzV3JhcHBlci5zdHlsZS50cmFuc2l0aW9uID0gdHJhbnNpdGlvblRpbWU7IC8vdG9kbyDQt9Cw0LTQsNCy0LDRgtGMIHRyYW5zaXRpb24g0YfQtdGA0LXQtyDQt9Cw0L/Rj9GC0YPRjiDQstGB0LXQvCDRgdGA0LDQt9GDP1xuICAgICAgc2xpZGVzV3JhcHBlci5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgke1xuICAgICAgICAtb2Zmc2V0IC0gaW5pdGlhbE9mZnNldFxuICAgICAgfXB4KWA7XG5cbiAgICAgIHNsaWRlc1sxXS5zdHlsZS50cmFuc2l0aW9uID0gdHJhbnNpdGlvblRpbWU7XG4gICAgICBzbGlkZXNbMV0uc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgICBzbGlkZXNbMV0uc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGUoMClcIjsgLy8gc2NhbGUoMC4zKVxuXG4gICAgICBzbGlkZXNbMl0uc3R5bGUudHJhbnNpdGlvbiA9IHRyYW5zaXRpb25UaW1lO1xuICAgICAgc2xpZGVzWzJdLnN0eWxlLnRyYW5zZm9ybSA9IHNsaWRlU2NhbGU7XG4gICAgICBzbGlkZXNbMl0uc3R5bGUudHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uID0gXCJjdWJpYy1iZXppZXIoLjcyLC4wNywuOTUsLjcpXCI7IC8vLjc1LDAsMSwuMDIgZWFzZS1pblxuICAgIH1cbiAgICBmdW5jdGlvbiBtb3ZSaWdodChzbGlkZXNXcmFwcGVyLCBvZmZzZXQpIHtcbiAgICAgIHNsaWRlc1dyYXBwZXIub250cmFuc2l0aW9uZW5kID0gKF8pID0+IHtcbiAgICAgICAgc2xpZGVzV3JhcHBlci5vbnRyYW5zaXRpb25lbmQgPSBudWxsO1xuICAgICAgICBzbGlkZXNXcmFwcGVyLnN0eWxlLnRyYW5zaXRpb24gPSBcIm5vbmVcIjtcbiAgICAgICAgc2xpZGVzWzFdLnJlbW92ZUF0dHJpYnV0ZShcInN0eWxlXCIpO1xuXG4gICAgICAgIHNsaWRlc1dyYXBwZXIubGFzdEVsZW1lbnRDaGlsZC5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgc2xpZGVzV3JhcHBlci5wcmVwZW5kKHNsaWRlc1dyYXBwZXIubGFzdEVsZW1lbnRDaGlsZCk7XG4gICAgICAgIHNsaWRlc1dyYXBwZXIuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoJHstaW5pdGlhbE9mZnNldH1weClgO1xuXG4gICAgICAgIGluQWN0aW9uID0gZmFsc2U7XG4gICAgICB9O1xuICAgICAgc2xpZGVzV3JhcHBlci5zdHlsZS50cmFuc2l0aW9uID0gdHJhbnNpdGlvblRpbWU7XG4gICAgICBzbGlkZXNXcmFwcGVyLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKCR7b2Zmc2V0IC0gaW5pdGlhbE9mZnNldH1weClgO1xuXG4gICAgICBzbGlkZXNbMF0uc3R5bGUudHJhbnNpdGlvbiA9IHRyYW5zaXRpb25UaW1lO1xuICAgICAgc2xpZGVzWzBdLnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgICAgc2xpZGVzWzBdLnN0eWxlLnRyYW5zZm9ybSA9IHNsaWRlU2NhbGU7XG4gICAgICBzbGlkZXNbMF0uc3R5bGUudHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uID0gXCJlYXNlLWluXCI7XG5cbiAgICAgIHNsaWRlc1sxXS5zdHlsZS50cmFuc2l0aW9uID0gdHJhbnNpdGlvblRpbWU7XG4gICAgICBzbGlkZXNbMV0uc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGUoMCkgc2NhbGUoMSlcIjtcbiAgICAgIHNsaWRlc1sxXS5zdHlsZS50cmFuc2l0aW9uVGltaW5nRnVuY3Rpb24gPSBcImN1YmljLWJlemllcigwLC43NSwuMDIsMSlcIjsgLy8wLC43NSwuMDIsMSAgLy8gMCwwLC4wMiwxIC8vIC43NSwwLDEsLjAyXG4gICAgfVxuXG4gICAgbGVmdC5vbmNsaWNrID0gKF8pID0+IHtcbiAgICAgIGlmIChpbkFjdGlvbikgcmV0dXJuO1xuICAgICAgaW5BY3Rpb24gPSB0cnVlO1xuICAgICAgbW92UmlnaHQoc2xpZGVzV3JhcHBlciwgb2Zmc2V0KTtcbiAgICB9O1xuICAgIHJpZ2h0Lm9uY2xpY2sgPSAoXykgPT4ge1xuICAgICAgaWYgKGluQWN0aW9uKSByZXR1cm47XG4gICAgICBpbkFjdGlvbiA9IHRydWU7XG4gICAgICBtb3ZMZWZ0KHNsaWRlc1dyYXBwZXIsIG9mZnNldCk7XG4gICAgfTtcbiAgfSkoKTtcblxuICAvLyBGRUVEQkFDSyBTTElERVJcblxuICAvL3RvZG8g0YDQsNGB0YjQuNGA0LjRgtGMINC+0LHQtdGA0YLQutGDINC90LAg0YDQsNC30LzQtdGAIGdhcCDQvNC10LbQtNGDINGB0LvQsNC4zIbQtNCw0LzQuCDRh9GC0L7QsdGLINC80L7QttC90L4g0LHRi9C70L4g0LLQvdGD0YLRgNGMINC/0L7Qu9C+0LbQuNGC0Ywg0YDQsNC30LzRi9GC0LjQtSDQuCDRgdC70LDQudC00Ysg0LzQtdC90Y/Qu9C40YHRjCDQsdC10Lcg0YDQtdC30LrQvtC5INC/0L7Qu9C+0YHRi1xufVxuXG5pZiAobWFpbldpZHRoID4gMTIwMCkge1xuICAoKCkgPT4ge1xuICAgIGNvbnN0IHNsaWRlc1dyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZlZWRiYWNrX19saXN0XCIpLFxuICAgICAgc2xpZGVzID0gc2xpZGVzV3JhcHBlci5jaGlsZHJlbixcbiAgICAgIHNsaWRlV2lkdGggPSBzbGlkZXNbMF0ub2Zmc2V0V2lkdGgsXG4gICAgICBzbGlkZVdpbmRvd1dpZHRoID0gc2xpZGVzV3JhcHBlci5vZmZzZXRXaWR0aCxcbiAgICAgIGdhcFZhbHVlID1cbiAgICAgICAgKHNsaWRlV2luZG93V2lkdGggLyAxMDApICpcbiAgICAgICAgcGFyc2VGbG9hdChnZXRDb21wdXRlZFN0eWxlKHNsaWRlc1dyYXBwZXIpLmdhcCksXG4gICAgICBhbW91bnRTbGlkZXNPbkxpc3QgPSBNYXRoLmZsb29yKFxuICAgICAgICBzbGlkZVdpbmRvd1dpZHRoIC8gKHNsaWRlV2lkdGggKyBnYXBWYWx1ZSlcbiAgICAgICksXG4gICAgICBzbGlkZUxpc3RzQW1vdW50ID0gTWF0aC5jZWlsKHNsaWRlcy5sZW5ndGggLyBhbW91bnRTbGlkZXNPbkxpc3QpLFxuICAgICAgb2Zmc2V0ID0gc2xpZGVXaW5kb3dXaWR0aCAtIDIgKiBnYXBWYWx1ZSwgLy9zbGlkZVdpbmRvd1dpZHRoICsgZ2FwVmFsdWUsXG4gICAgICB0cmFuc2l0aW9uVGltZSA9IFwiMXNcIixcbiAgICAgIGxlZnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZlZWRiYWNrID4uc2xpZGVyLWJ1dHRvbl9sZWZ0XCIpLFxuICAgICAgcmlnaHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZlZWRiYWNrID4gLnNsaWRlci1idXR0b25fcmlnaHRcIik7XG5cbiAgICBsZXQgaW5BY3Rpb24gPSBmYWxzZTtcblxuICAgIGNvbnNvbGUubG9nKFwiZ2FwVmFsdWUgXCIgKyBnYXBWYWx1ZSk7XG4gICAgY29uc29sZS5sb2coXCJzbGlkZVdpbmRvd1dpZHRoIFwiICsgc2xpZGVXaW5kb3dXaWR0aCk7XG4gICAgY29uc29sZS5sb2coc2xpZGVzKTtcbiAgICBjb25zb2xlLmxvZyhcInNsaWRlcy5sZW5ndGggXCIgKyBzbGlkZXMubGVuZ3RoKTtcbiAgICBjb25zb2xlLmxvZyhcInNsaWRlTGlzdHNBbW91bnQgXCIgKyBzbGlkZUxpc3RzQW1vdW50KTtcbiAgICBjb25zb2xlLmxvZyhcImFtb3VudFNsaWRlc09uTGlzdCBcIiArIGFtb3VudFNsaWRlc09uTGlzdCk7XG5cbiAgICAvLyBJbml0aWFsaXplIHNsaWRlciBzdGFydCBwb3NpdGlvbiAtMTAwJVxuICAgIC8vc2xpZGVzV3JhcHBlci5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgtJHtvZmZzZXR9cHgpYDtcbiAgICAvL3RvZG8g0YPRh9C40YLRi9Cy0LDRgtGMIGdhcCFcbiAgICAvL3RvZG8g0LrQsNC6INCy0YvRgdGH0LjRgtCw0YLRjCDRgdC60L7Qu9GM0LrQviDQu9C40YHRgtC+0LI/ICjRiNC40YDQuNC90YMg0L7QutC90LAg0LTQtdC70LjRgtGMINC90LAg0YjQuNGA0LjQvdGDINC60LDRgNGC0L7Rh9C60Lgg0LHQtdC3INC+0YHRgtCw0YLQutCwINC4INC/0L7RgtC+0Lwg0LLRi9GB0YfQuNGC0YvQstCw0YLRjCDRgdC60L7Qu9GM0LrQviDQutCw0YDRgtC+0YfQtdC6INC90LAg0YHQutC+0LvRjNC60L4g0LvQuNGB0YLQvtCyPylcbiAgICAvL3RvZG8g0LrRgNGD0YLQuNGC0Ywgc2xpZGVMaXN0c0Ftb3VudCDQutCw0LogaW5kZXgg0YEg0L/QtdGA0LXRgdC60L7QutC+0Lwg0L/RgNC4INC00L7RgdGC0LjQttC10L3QuNC4INC60YDQsNGPIGluZGV4ID0gKytpbmRleCAlIHNsaWRlcy5sZW5ndGg7XG5cbiAgICAvLyBJbml0aWFsaXplIHNsaWRlciBzdGFydCBwb3NpdGlvblxuICAgIHNsaWRlc1dyYXBwZXIuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoJHstb2Zmc2V0fXB4KWA7XG5cbiAgICBmdW5jdGlvbiBtb3ZMZWZ0KHNsaWRlc1dyYXBwZXIsIG9mZnNldCkge1xuICAgICAgc2xpZGVzV3JhcHBlci5vbnRyYW5zaXRpb25lbmQgPSAoXykgPT4ge1xuICAgICAgICBzbGlkZXNXcmFwcGVyLm9udHJhbnNpdGlvbmVuZCA9IG51bGw7XG4gICAgICAgIHNsaWRlc1dyYXBwZXIuc3R5bGUudHJhbnNpdGlvbiA9IFwibm9uZVwiO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYW1vdW50U2xpZGVzT25MaXN0OyBpKyspIHtcbiAgICAgICAgICBzbGlkZXNXcmFwcGVyLmFwcGVuZChzbGlkZXNbMF0pO1xuICAgICAgICB9XG4gICAgICAgIHNsaWRlc1dyYXBwZXIuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoJHstb2Zmc2V0fXB4KWA7XG5cbiAgICAgICAgaW5BY3Rpb24gPSBmYWxzZTtcbiAgICAgIH07XG4gICAgICBzbGlkZXNXcmFwcGVyLnN0eWxlLnRyYW5zaXRpb24gPSB0cmFuc2l0aW9uVGltZTtcbiAgICAgIHNsaWRlc1dyYXBwZXIuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoJHstb2Zmc2V0ICogMiAtIGdhcFZhbHVlfXB4KWA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdlJpZ2h0KHNsaWRlc1dyYXBwZXIsIG9mZnNldCkge1xuICAgICAgc2xpZGVzV3JhcHBlci5vbnRyYW5zaXRpb25lbmQgPSAoXykgPT4ge1xuICAgICAgICBzbGlkZXNXcmFwcGVyLm9udHJhbnNpdGlvbmVuZCA9IG51bGw7XG4gICAgICAgIHNsaWRlc1dyYXBwZXIuc3R5bGUudHJhbnNpdGlvbiA9IFwibm9uZVwiO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYW1vdW50U2xpZGVzT25MaXN0OyBpKyspIHtcbiAgICAgICAgICBzbGlkZXNXcmFwcGVyLnByZXBlbmQoc2xpZGVzV3JhcHBlci5sYXN0RWxlbWVudENoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBzbGlkZXNXcmFwcGVyLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKCR7LW9mZnNldH1weClgO1xuXG4gICAgICAgIGluQWN0aW9uID0gZmFsc2U7XG4gICAgICB9O1xuXG4gICAgICBzbGlkZXNXcmFwcGVyLnN0eWxlLnRyYW5zaXRpb24gPSB0cmFuc2l0aW9uVGltZTtcbiAgICAgIHNsaWRlc1dyYXBwZXIuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoJHtnYXBWYWx1ZX1weClgO1xuICAgIH1cblxuICAgIHJpZ2h0Lm9uY2xpY2sgPSAoXykgPT4ge1xuICAgICAgY29uc29sZS5sb2coXCJyaWdodFwiKTtcbiAgICAgIGlmIChpbkFjdGlvbikgcmV0dXJuO1xuICAgICAgaW5BY3Rpb24gPSB0cnVlO1xuICAgICAgbW92TGVmdChzbGlkZXNXcmFwcGVyLCBvZmZzZXQpO1xuICAgIH07XG4gICAgbGVmdC5vbmNsaWNrID0gKF8pID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFwibGVmdFwiKTtcbiAgICAgIGlmIChpbkFjdGlvbikgcmV0dXJuO1xuXG4gICAgICBpbkFjdGlvbiA9IHRydWU7XG4gICAgICBtb3ZSaWdodChzbGlkZXNXcmFwcGVyLCBvZmZzZXQpO1xuICAgIH07XG4gIH0pKCk7XG59XG5cbmlmIChtYWluV2lkdGggPD0gMTI1MCkge1xuICBjb25zdCBidXJnZXJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBhZ2UtaGVhZGVyX19idXJnZXItYnV0dG9uXCIpLFxuICAgIGhlYWRlckhlaWd0aCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGFnZS1oZWFkZXJcIikub2Zmc2V0SGVpZ2h0O1xuXG4gIGNvbnNvbGUubG9nKFwiaGVhZGVySGVpZ3RoIFwiICsgaGVhZGVySGVpZ3RoKTtcblxuICBidXJnZXJCdXR0b24ub25jbGljayA9ICgpID0+IHtcbiAgICBidXJnZXJCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcInBhZ2UtaGVhZGVyX19idXJnZXItYnV0dG9uX29wZW5cIik7XG5cbiAgICBpZiAobWFpbldpZHRoIDw9IDY4MCkge1xuICAgICAgY29uc3QgaGVhZGVyTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGFnZS1oZWFkZXJfX21lbnVcIik7XG4gICAgICBoZWFkZXJNZW51LnN0eWxlLnRvcCA9IGAke2hlYWRlckhlaWd0aH1weGA7XG4gICAgICBoZWFkZXJNZW51LmNsYXNzTGlzdC50b2dnbGUoXCJwYWdlLWhlYWRlcl9fbWVudV9vcGVuXCIpO1xuXG4gICAgICBoZWFkZXJNZW51LnF1ZXJ5U2VsZWN0b3JBbGwoXCJhXCIpLmZvckVhY2goKGxpbmspID0+IHtcbiAgICAgICAgbGluay5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgIGhlYWRlck1lbnUuY2xhc3NMaXN0LnJlbW92ZShcInBhZ2UtaGVhZGVyX19tZW51X29wZW5cIik7XG4gICAgICAgICAgYnVyZ2VyQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJwYWdlLWhlYWRlcl9fYnVyZ2VyLWJ1dHRvbl9vcGVuXCIpO1xuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgICAvLyB0b2RvINGD0LHQuNGA0LDRgtGMINC+0LHRgNCw0LHQvtGC0YfQuNC60Lgg0L/RgNC4INC30LDQutGA0YvRgtC40Lgg0LzQtdC90Y4/XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGhlYWRlck5hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGFnZS1oZWFkZXJfX25hdlwiKTtcbiAgICAgIGhlYWRlck5hdi5zdHlsZS50b3AgPSBgJHtoZWFkZXJIZWlndGh9cHhgO1xuICAgICAgaGVhZGVyTmF2LmNsYXNzTGlzdC50b2dnbGUoXCJwYWdlLWhlYWRlcl9fbmF2X29wZW5cIik7XG5cbiAgICAgIGhlYWRlck5hdi5xdWVyeVNlbGVjdG9yQWxsKFwiYVwiKS5mb3JFYWNoKChsaW5rKSA9PiB7XG4gICAgICAgIGxpbmsub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgICBoZWFkZXJOYXYuY2xhc3NMaXN0LnJlbW92ZShcInBhZ2UtaGVhZGVyX19uYXZfb3BlblwiKTtcbiAgICAgICAgICBidXJnZXJCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcInBhZ2UtaGVhZGVyX19idXJnZXItYnV0dG9uX29wZW5cIik7XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XG4iXSwibmFtZXMiOlsibWFpbldpZHRoIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwib2Zmc2V0V2lkdGgiLCJzbGlkZXNXcmFwcGVyIiwiYWN0aXZTbGlkZVdpZHRoIiwicGFyc2VJbnQiLCJnZXRDb21wdXRlZFN0eWxlIiwiZ3JpZFRlbXBsYXRlQ29sdW1ucyIsInNwbGl0IiwiZ2FwVmFsdWUiLCJnYXAiLCJzbGlkZXMiLCJjaGlsZHJlbiIsInNsaWRlV2lkdGgiLCJpbml0aWFsT2Zmc2V0Iiwib2Zmc2V0IiwidHJhbnNpdGlvblRpbWUiLCJzbGlkZVNjYWxlIiwibGVmdCIsInJpZ2h0IiwiaW5BY3Rpb24iLCJjb25zb2xlIiwibG9nIiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJvcGFjaXR5Iiwib25jbGljayIsIl8iLCJvbnRyYW5zaXRpb25lbmQiLCJ0cmFuc2l0aW9uIiwicmVtb3ZlQXR0cmlidXRlIiwibGFzdEVsZW1lbnRDaGlsZCIsInByZXBlbmQiLCJ0cmFuc2l0aW9uVGltaW5nRnVuY3Rpb24iLCJtb3ZSaWdodCIsImFwcGVuZCIsIm1vdkxlZnQiLCJzbGlkZVdpbmRvd1dpZHRoIiwicGFyc2VGbG9hdCIsImFtb3VudFNsaWRlc09uTGlzdCIsIk1hdGgiLCJmbG9vciIsInNsaWRlTGlzdHNBbW91bnQiLCJjZWlsIiwibGVuZ3RoIiwiaSIsImJ1cmdlckJ1dHRvbiIsImhlYWRlckhlaWd0aCIsIm9mZnNldEhlaWdodCIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImhlYWRlck1lbnUiLCJ0b3AiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImxpbmsiLCJyZW1vdmUiLCJoZWFkZXJOYXYiXSwic291cmNlUm9vdCI6IiJ9